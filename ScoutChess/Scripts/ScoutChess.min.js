(function(){var u,n,f,e,o,s,t,i,r;o=1080;s=2e3;n=36;f=63.625;e=64.375;i=1e3;r=function(n){return"/Assets/"+n};t={board:r("chessboard.jpg")};u={audio:{music:[r("fetty-wap-trap-queen-instrumental.mp3")]},images:[t.board],sprites:{"/Assets/Pieces.png":{tile:64,tileh:64,map:{pawn_brown:[0,0],rook_brown:[1,0],knight_brown:[2,0],bishop_brown:[3,0],king_brown:[4,0],queen_brown:[5,0],pawn_pink:[0,1],rook_pink:[1,1],knight_pink:[2,1],bishop_pink:[3,1],king_pink:[4,1],queen_pink:[5,1]}}}};$(function(){return Crafty.init(s,o,$("#game")[0]),Crafty.scene("loading")});Crafty.scene("loading",function(){return Crafty.load(u,function(){return Crafty.e("2D, DOM, Text").text("LOADING...."),Crafty.scene("main")})},function(){return{}},function(){});Crafty.scene("main",function(){var s,h,r,u,l,o,a,c;for(s=function(t){return n+f*t},h=function(t){return n+e*t},Crafty.c("Unit",{unit:function(n,t){return this.requires("2D"),this.x=s(n),this.y=h(t),this.h=64,this.w=64,this}}),Crafty.c("Piece",{piece:function(n){var t;return t=this,this.requires("2D, DOM, Tween, Mouse, Unit"),this.requires(""+n.rank+"_"+n.team),this.unit(n.column(),n.row()),this.z=500,n.column.subscribe(function(n){return t.tween({x:s(n)},i)}),n.row.subscribe(function(n){return t.tween({y:h(n)},i)}),this.bind("Click",function(){return r.selectPiece(n)}),this}}),Crafty.c("Indicator",{indicator:function(n,t,i){return this.requires("2D, DOM, Color, Unit"),this.unit(n,t),this.z=400,this.color(i),this.alpha=.75,this}}),Crafty.c("Active",{active:function(n,t){return this.requires("Indicator"),this.indicator(n,t,"red"),this}}),Crafty.c("Option",{option:function(n,t){return this.requires("Indicator, Mouse"),this.indicator(n,t,"green"),this.bind("Click",function(){return r.move(n,t)}),this}}),Crafty.e("2D, DOM, Image").image(t.board),r=new ScoutChess,c=r.pieces,o=0,a=c.length;o<a;o++)l=c[o],Crafty.e("Piece").piece(l);return u=[],r.selectedPiece.subscribe(function(n){for(var s,f,i,c,e,o,t=0,h=u.length;t<h;t++)s=u[t],s.destroy();if(u=[],n!=null){for(u.push(Crafty.e("Active").active(n.column(),n.row())),e=r.getMoves(n),o=[],i=0,c=e.length;i<c;i++)f=e[i],o.push(u.push(Crafty.e("Option").option(f.column,f.row)));return o}})})}).call(this);